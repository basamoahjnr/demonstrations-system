<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html" encoding="UTF-8">


    <h:head>
        <title>Login Page</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
        <!--        <link rel="shortcut icon" type="image/x-icon" href="#{resource['favicon/favicon.ico']}"/>-->
        <meta name="theme-color" content="#444"/>
        <meta name="mobile-web-app-capable" content="yes"/>
    </h:head>

    <f:metadata>
        <f:viewAction action="#{loginController.check}"/>
    </f:metadata>

    <h:body>
        <h:form id="loginForm" rendered="#{empty facesContext.externalContext.userPrincipal.name}">

            <p:growl id="growl" globalOnly="true" skipDetailIfEqualsSummary="true"/>

            <p:panelGrid id="loginPanel"
                         columns="3"
                         styleClass="ui-grid-col-8"
                         layout="grid"
                         columnClasses="ui-grid-col-2,ui-grid-col-3,ui-grid-col-3">

                <p:outputLabel for="@next"
                               value="#{bundle.ViewLoginLabel_username}"/>
                <p:inputText id="username"
                             value="#{loginController.username}"
                             required="true"
                             style="width: 100%"
                             requiredMessage="#{bundle.ViewLoginPageRequiredMessage_username}"/>
                <p:message for="@previous"/>

                <p:outputLabel for="@next"
                               value="#{bundle.ViewLoginLabel_password}"/>
                <p:password id="password"
                            value="#{loginController.password}"
                            feedback="false"
                            required="true"
                            style="width: 100%"
                            requiredMessage="#{bundle.ViewLoginPageRequiredMessage_password}"/>
                <p:message for="@previous"/>
                <p:commandButton id="loginButton"
                                 action="#{loginController.login}"
                                 value="#{bundle.ViewLoginLabel_loginButton}" update="loginForm growl" ajax="true"/>
            </p:panelGrid>
        </h:form>
    </h:body>
</f:view>
</html>

